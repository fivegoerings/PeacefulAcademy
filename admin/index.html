<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Peaceful Academy Admin — Kansas City, Missouri</title>

  <!-- Favicons -->
  <link rel="icon" href="../favicon.svg" type="image/svg+xml" />
  <link rel="icon" href="../favicon.ico" sizes="any" />
  <link rel="apple-touch-icon" href="../apple-touch-icon.png" />

  <!-- Styles -->
  <link rel="stylesheet" href="/admin/style.css" />
</head>
<body>
  <header role="banner">
    <h1>Peaceful Academy Admin • Kansas City, MO</h1>
    <button class="hamburger" type="button" aria-label="Toggle navigation menu" aria-expanded="false" aria-controls="nav-menu">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
    <nav id="nav-menu" aria-label="Primary" class="nav-menu">
      <button class="tab active" data-tab="monitor" type="button" aria-controls="monitor" aria-selected="true">DB Monitor</button>
      <button class="tab" data-tab="students" type="button" aria-controls="students" aria-selected="false">Students</button>
      <button class="tab" data-tab="courses" type="button" aria-controls="courses" aria-selected="false">Courses</button>
      <button class="tab" data-tab="logs" type="button" aria-controls="logs" aria-selected="false">Logs</button>
      <a class="tab" href="/admin/console.html" target="_blank" aria-label="Open log console">Log Console</a>
      <a class="tab" href="/" aria-label="Back to main dashboard">Back to Dashboard</a>
    </nav>
  </header>

  <main class="wrap" role="main">
    <!-- Monitor -->
    <section id="monitor" aria-labelledby="monitor-heading">
      <h2 id="monitor-heading">Database Monitor</h2>

      <div class="card" aria-live="polite">
        <div class="row">
          <h3>Connection Health</h3>
          <span id="health" class="muted" aria-atomic="true">—</span>
        </div>
        <pre id="healthJson" class="muted" aria-label="Health response JSON"></pre>
      </div>

      <div class="card">
        <div class="row">
          <h3 id="row-counts">Row Counts</h3>
          <button id="refreshStats" type="button" aria-describedby="row-counts">Refresh</button>
        </div>
        <table aria-describedby="row-counts">
          <caption class="visually-hidden">Database table row counts</caption>
          <thead>
            <tr>
              <th scope="col">Table</th>
              <th scope="col">Rows</th>
            </tr>
          </thead>
          <tbody id="statsBody"></tbody>
        </table>
      </div>
    </section>

    <!-- Students -->
    <section id="students" hidden aria-labelledby="students-heading">
      <h2 id="students-heading">Students</h2>

      <div class="card">
        <h3>Add Student</h3>
        <form id="studentForm" class="inline" autocomplete="on" novalidate>
          <label for="sf-first">First name</label>
          <input id="sf-first" name="first_name" placeholder="First name" required autocomplete="given-name" />

          <label for="sf-last">Last name</label>
          <input id="sf-last" name="last_name" placeholder="Last name" required autocomplete="family-name" />

          <label for="sf-dob">Birth date</label>
          <input id="sf-dob" name="birth_date" type="date" autocomplete="bday" />

          <label for="sf-grade">Grade</label>
          <input id="sf-grade" name="grade" placeholder="e.g., 9th, 10th" autocomplete="off" />

          <label for="sf-start-year">Start Year</label>
          <input id="sf-start-year" name="start_year" type="number" placeholder="e.g., 2025" inputmode="numeric" />

          <label for="sf-notes">Notes</label>
          <textarea id="sf-notes" name="notes" placeholder="Additional notes" rows="3"></textarea>

          <button type="submit">Create Student</button>
        </form>
      </div>

      <div class="card">
        <div class="row">
          <h3 id="students-list">Students</h3>
          <button id="reloadStudents" type="button" aria-describedby="students-list">Reload</button>
        </div>
        <table aria-describedby="students-list">
          <caption class="visually-hidden">Student roster</caption>
          <thead>
            <tr>
              <th scope="col">Name</th>
              <th scope="col">DOB</th>
              <th scope="col">Grade</th>
              <th scope="col">Start Year</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody id="studentsBody"></tbody>
        </table>
      </div>
    </section>

    <!-- Courses -->
    <section id="courses" hidden aria-labelledby="courses-heading">
      <h2 id="courses-heading">Courses</h2>

      <div class="card">
        <h3>Add Course</h3>
        <form id="courseForm" class="inline" autocomplete="on" novalidate>
          <label for="cf-title">Title</label>
          <input id="cf-title" name="title" placeholder="Course title" required autocomplete="off" />

          <label for="cf-subject">Subject</label>
          <select id="cf-subject" name="subject" required>
            <option value="">Select subject</option>
            <option value="Language Arts">Language Arts</option>
            <option value="Reading">Reading</option>
            <option value="Mathematics">Mathematics</option>
            <option value="Science">Science</option>
            <option value="Social Studies">Social Studies</option>
            <option value="Elective">Elective</option>
          </select>

          <label for="cf-description">Description</label>
          <textarea id="cf-description" name="description" placeholder="Course description" rows="3"></textarea>

          <button type="submit">Create Course</button>
        </form>
      </div>

      <div class="card">
        <div class="row">
          <h3 id="courses-list">Courses</h3>
          <button id="reloadCourses" type="button" aria-describedby="courses-list">Reload</button>
        </div>
        <table aria-describedby="courses-list">
          <caption class="visually-hidden">Course list</caption>
          <thead>
            <tr>
              <th scope="col">Title</th>
              <th scope="col">Subject</th>
              <th scope="col">Description</th>
              <th scope="col">Created</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody id="coursesBody"></tbody>
        </table>
      </div>
    </section>

    <!-- Logs -->
    <section id="logs" hidden aria-labelledby="logs-heading">
      <h2 id="logs-heading">Logs</h2>

      <div class="card">
        <h3>Add Log Entry</h3>
        <form id="logForm" class="inline" autocomplete="on" novalidate>
          <label for="lf-student">Student</label>
          <select id="lf-student" name="student_id" required>
            <option value="">Select student</option>
          </select>

          <label for="lf-course">Course</label>
          <select id="lf-course" name="course_id" required>
            <option value="">Select course</option>
          </select>

          <label for="lf-date">Date</label>
          <input id="lf-date" name="date" type="date" required />

          <label for="lf-hours">Hours</label>
          <input id="lf-hours" name="hours" type="number" step="0.25" min="0.25" max="24" placeholder="0.25" required />

          <label for="lf-location">Location</label>
          <select id="lf-location" name="location" required>
            <option value="home">Home</option>
            <option value="offsite">Offsite</option>
          </select>

          <label for="lf-notes">Notes</label>
          <textarea id="lf-notes" name="notes" placeholder="Activity details" rows="3"></textarea>

          <button type="submit">Add Log Entry</button>
        </form>
      </div>

      <div class="card">
        <div class="row">
          <h3 id="logs-list">Log Entries</h3>
          <button id="reloadLogs" type="button" aria-describedby="logs-list">Reload</button>
        </div>
        <table aria-describedby="logs-list">
          <caption class="visually-hidden">Log entries</caption>
          <thead>
            <tr>
              <th scope="col">Date</th>
              <th scope="col">Student</th>
              <th scope="col">Course</th>
              <th scope="col">Subject</th>
              <th scope="col">Hours</th>
              <th scope="col">Location</th>
              <th scope="col">Notes</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody id="logsBody"></tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- App Script (deferred to end for perf) -->
  <script src="/admin/app.js" defer></script>


</body>
</html>